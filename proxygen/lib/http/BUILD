#FBCODE_DIR=/data/home/user00/folly/proxygen/.. INSTALL_DIR=. HEADERS_LIST=./HTTPCommonHeaders.txt ./gen_HTTPCommonHeaders.h.sh
#FBCODE_DIR=/data/home/user00/folly/proxygen/.. INSTALL_DIR=. HEADERS_LIST=./HTTPCommonHeaders.txt ./gen_HTTPCommonHeaders.cpp.sh 


cc_library(
	name = "proxygenhttp",
	srcs = [
		'HTTPCommonHeaders.cpp',
		'codec/CodecProtocol.cpp',
		'codec/compress/GzipHeaderCodec.cpp',
		'codec/compress/HeaderTable.cpp',
		'codec/compress/HPACKCodec.cpp',
		'codec/compress/HPACKContext.cpp',
		'codec/compress/HPACKDecodeBuffer.cpp',
		'codec/compress/HPACKDecoder.cpp',
		'codec/compress/HPACKEncodeBuffer.cpp',
		'codec/compress/HPACKEncoder.cpp',
		'codec/compress/HPACKHeader.cpp',
		'codec/compress/Huffman.cpp',
		'codec/compress/Logging.cpp',
		'codec/compress/StaticHeaderTable.cpp',
		'codec/compress/experimental/hpack9/HPACKCodec.cpp',
		'codec/compress/experimental/hpack9/HPACKDecoder.cpp',
		'codec/compress/experimental/hpack9/HPACKEncoder.cpp',
		'codec/compress/experimental/hpack9/Huffman.cpp',
		'codec/compress/experimental/hpack9/StaticHeaderTable.cpp',
		'codec/ErrorCode.cpp',
		'codec/experimental/HTTP2Codec.cpp',
		'codec/experimental/HTTP2Constants.cpp',
		'codec/experimental/HTTP2Framer.cpp',
		'codec/FlowControlFilter.cpp',
		'codec/HTTP1xCodec.cpp',
		'codec/HTTPChecks.cpp',
		'codec/HTTPCodecFilter.cpp',
		'codec/HTTPSettings.cpp',
		'codec/SPDYCodec.cpp',
		'codec/SPDYConstants.cpp',
		'codec/SPDYUtil.cpp',
		'codec/SettingsId.cpp',
		'codec/TransportDirection.cpp',
		'HTTPConnector.cpp',
		'HTTPConstants.cpp',
		'HTTPException.cpp',
		'HTTPHeaders.cpp',
		'HTTPMessage.cpp',
		'HTTPMethod.cpp',
		'ProxygenErrorEnum.cpp',
		'RFC2616.cpp',
		'session/ByteEvents.cpp',
		'session/CodecErrorResponseHandler.cpp',
		'session/HTTPDirectResponseHandler.cpp',
		'session/HTTPDownstreamSession.cpp',
		'session/HTTPErrorPage.cpp',
		'session/HTTPEvent.cpp',
		'session/HTTPSessionAcceptor.cpp',
		'session/HTTPSession.cpp',
		'session/HTTPTransaction.cpp',
		'session/HTTPTransactionEgressSM.cpp',
		'session/HTTPTransactionIngressSM.cpp',
		'session/HTTPUpstreamSession.cpp',
        'session/HTTP2PriorityQueue.cpp',
		'session/ByteEventTracker.cpp',
		'session/SimpleController.cpp',
		'session/TransportFilter.cpp',
		'Window.cpp'
	],
	deps = [
		'//proxygen/lib/utils:utils',
		'//proxygen/lib/ssl:proxygenssl',
		'//proxygen/lib/services:proxygenservices'
	],
	extra_cppflags = [
		'-fno-strict-aliasing',
		'-std=gnu++0x',
		'-DLIBMC_FBTRACE_DISABLE',
		'-DHAVE_CONFIG_H',
		'-fPIC',
		'-DPIC'
	],
	warning = 'no'
)
